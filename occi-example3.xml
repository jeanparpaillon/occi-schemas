<?xml version="1.0" encoding="UTF-8"?>
<occi:extension xmlns:occi="http://schemas.ogf.org/occi"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xs="http://www.w3.org/2001/XMLSchema"
	xsi:schemaLocation="http://schemas.ogf.org/occi occi-extension.xsd ">
	
	<!-- 
	   Compute Resource Kind 
	-->
	<occi:kind term="compute" scheme="http://schemas.ogf.org/occi/infrastructure#"
		title="Compute Resource" location="/compute/">
		<occi:rel scheme="http://schemas.ogf.org/occi/core#" term="resource"></occi:rel>
		<occi:attribute name="occi.compute.hostname" type="string">
			<xs:annotation>
				<xs:documentation>Hostname of the compute resource
				</xs:documentation>
			</xs:annotation>
		</occi:attribute>
		<occi:attribute name="occi.compute.state" immutable="true"
			use="required" default="inactive">
			<xs:annotation>
				<xs:documentation>
					State the compute resource is in
				</xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:enumeration value="active"></xs:enumeration>
					<xs:enumeration value="inactive"></xs:enumeration>
					<xs:enumeration value="suspended"></xs:enumeration>
				</xs:restriction>
			</xs:simpleType>
		</occi:attribute>
		<occi:action term="stop"
			scheme="http://schemas.ogf.org/occi/infrastructure/compute/action#"
			title="Stop compute instance">
			<occi:attribute name="method" default="poweroff">
				<xs:simpleType>
					<xs:restriction base="xs:string">
						<xs:enumeration value="graceful"></xs:enumeration>
						<xs:enumeration value="acpioff"></xs:enumeration>
						<xs:enumeration value="poweroff"></xs:enumeration>
					</xs:restriction>
				</xs:simpleType>
			</occi:attribute>
		</occi:action>
	</occi:kind>
	
	<!-- 
	   Network Resource Kind 
	-->
	<occi:kind term="network" scheme="http://schemas.ogf.org/occi/core#"
		title="Network Resource">
		<occi:rel scheme="http://schemas.ogf.org/occi/core#" term="resource" />
		<occi:attribute name="occi.network.vlan" type="occi:vlanType" />
		<occi:attribute name="occi.network.label" type="xs:string" />
		<occi:attribute name="occi.network.state" type="xs:string"
			immutable="true" use="required" default="inactive">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:enumeration value="active" />
					<xs:enumeration value="inactive" />
				</xs:restriction>
			</xs:simpleType>
		</occi:attribute>
		<occi:action scheme="http://schemas.ogf.org/occi/core/network#"
			term="up"></occi:action>
		<occi:action scheme="http://schemas.ogf.org/occi/core/network#"
			term="down"></occi:action>
	</occi:kind>
	
	<!-- 
	   NetworkInterface Link Kind
	-->
	<occi:kind scheme="http://schemas.ogf.org/occi/core#" term="networkinterface">
		<occi:rel scheme="http://schemas.ogf.org/occi/core#" term="link" />
		<occi:attribute name="occi.networkinterface.interface"
			type="xs:string"></occi:attribute>
		<occi:attribute name="occi.networkinterface.mac" type="occi:mac802"></occi:attribute>
		<occi:attribute name="occi.networkinterface.state"
			immutable="true" use="required" default="inactive">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:enumeration value="active"></xs:enumeration>
					<xs:enumeration value="inactive"></xs:enumeration>
				</xs:restriction>
			</xs:simpleType>
		</occi:attribute>
	</occi:kind>
	
	<!-- 
	   IP Networking Mixin
	 -->
	<occi:mixin scheme="http://schemas.ogf.org/occi/core#" term="ipnetwork">
	   <occi:applies scheme="http://schemas.ogf.org/occi/core#" term="network" />
		<occi:attribute name="occi.network.address" type="occi:cidr"></occi:attribute>
        <occi:attribute name="occi.network.gateway" type="occi:ip"></occi:attribute>
        <occi:attribute name="occi.network.allocation" use="required">
            <xs:simpleType>
                <xs:restriction base="xs:string" >
                    <xs:enumeration value="dynamic"></xs:enumeration>
                    <xs:enumeration value="static"></xs:enumeration>
                </xs:restriction>
            </xs:simpleType>
        </occi:attribute>
	</occi:mixin>
	
	<!-- 
	   IP NetworkInterface Mixin
	 -->
	 <occi:mixin scheme="http://schemas.ogf.org/occi/core#" term="ipnetworkinterface" >
       <occi:applies scheme="http://schemas.ogf.org/occi/core#" term="networkinterface" />
	   <occi:attribute name="occi.networkinterface.address" type="occi:cidr" use="required" ></occi:attribute>
	   <occi:attribute name="occi.networkinterface.gateway" type="occi:ip" ></occi:attribute>
	   <occi:attribute name="occi.networkinterface.allocation" use="required" >
	       <xs:simpleType>
	           <xs:restriction base="xs:string">
	               <xs:enumeration value="dynamic" />
	               <xs:enumeration value="static" />
	           </xs:restriction>
	       </xs:simpleType>
	   </occi:attribute>
	 </occi:mixin>
	 
	 <!-- 
	   OS template Mixin
	  -->
	 <occi:mixin scheme="http://schemas.ogf.org/occi/core#" term="os_tpl" title="OS Template" >
       <occi:applies scheme="http://schemas.ogf.org/occi/core#" term="compute" />
	 </occi:mixin>
	 
	 <!-- 
	   Resource template
	  -->
	 <occi:mixin scheme="http://schemas.ogf.org/occi/core#" term="resource_tpl" title="Resource Template" >
	 </occi:mixin>
	
	<!-- 
	   Simple types 
	-->
	<xs:simpleType name="vlanType">
		<xs:restriction base="xs:integer">
			<xs:minInclusive value="0"></xs:minInclusive>
			<xs:maxInclusive value="4095"></xs:maxInclusive>
		</xs:restriction>
	</xs:simpleType>
	
	<xs:simpleType name="mac802">
		<xs:restriction base="xs:string">
			<xs:pattern value="[\da-fA-F]{2}(\:[\da-fA-F]{2}){5}" />
		</xs:restriction>
	</xs:simpleType>
	
	<xs:simpleType name="ip">
		<xs:restriction base="xs:string">
			<xs:pattern
				value="(((([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5]))|((([\da-fA-F]{1,4})|(\:))\:){7}(([\da-fA-F]{1,4})|(\:))))" />
		</xs:restriction>
	</xs:simpleType>

	<xs:simpleType name="cidr">
		<xs:restriction base="xs:string">
			<xs:pattern
				value="(((([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])\/(\d|[1-2]\d|3[0-2]))|((([\da-fA-F]{0,4})|(\:))\:){7}(([\da-fA-F]{0,4})|(\:)))\/([1-9]?\d\
|1[01]\d|12[0-8])))" />
		</xs:restriction>
	</xs:simpleType>

</occi:extension>
